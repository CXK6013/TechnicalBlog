# Vue学习笔记(四) 久处不厌

[TOC]

## 前言

学习本篇需要有一定的Vue、Node、HTML、JavaScript、CSS基础，需要一些预置概念。

《Vue学习笔记(一) 初遇篇》介绍Vue的源起以及Vue的基本示例, 《Vue学习笔记(二) 相识篇》对《Vue学习笔记(一) 初遇篇》进行重构，重新组织了《Vue学习笔记(一)初遇篇》的内容: 随着网页越来越复杂，开发者们在追求越来越快的开发速度和性能，这也就是现代框架的缘起，相对于JQuery这样直接操纵DOM结点的库，导致页面重绘影响页面的性能。现代前端框架推出了虚拟DOM不再让开发者直接操纵DOM结点，同时引入了响应式、模板语法进一步加快开发前端页面的速度，但是仅仅如此还不够，现代前端框架开始追求可复用性，这也就是组件，JavaScript、CSS、HTML的复合体，让我们可以复用逻辑、样式、功能。

现在我们来回忆一下《Vue学习笔记(三) 》，这篇文章里面我们讲了事件系统、监听事件、模块化、模块化的好处。以及JavaScript的模块化发展历史，JavaScript的如何使用模块, 表单的输入与绑定、组件的简单使用。但对于Vue的核心概念组件来说我们并未介绍多少，我们只是让她小小的露了个面，演示了一个组件如何声明，如何使用。但这种使用组件的方式并不讨喜，原因在于这种方式的组件的内容: HTML、CSS、JavaScript都在字符串里面。比较适应的是逻辑、样式都不复杂的场景，一旦这些内容稍微庞大一点点，庞大的字符串就会让我们头晕脑胀。

对此的解决方案是单文件组件，将文件放在一个文件中，后缀为.vue。但我们想接着开发前端应用还不大够，你会发现后面单文件应用基本上都会选择用Vue CLI来构建, 那Vue CLI 是什么？ Vue我们是认识的，那CLI呢？首先CLI是Commend-Line Interface的缩写, Commend-Line Interface 命令行界面，用户通过键盘输入指令，计算机接收指令后，予以执行。上面是维基百科的定义，下面我们来看下Vue CLI是如何介绍自身的:

> Vue CLI 是一个基于 Vue.js 进行快速开发的完整系统，提供：
>
> - 通过 `@vue/cli` 实现的交互式的项目脚手架。
> - 通过 `@vue/cli` + `@vue/cli-service-global` 实现的零配置原型开发。
> - 一个运行时依赖 (@vue/cli-service)，该依赖：
>   - 可升级；
>   - 基于 webpack 构建，并带有合理的默认配置；
>   - 可以通过项目内的配置文件进行配置；
>   - 可以通过插件进行扩展。
> - 一个丰富的官方插件集合，集成了前端生态中最好的工具。
> - 一套完全图形化的创建和管理 Vue.js 项目的用户界面。
>
> Vue CLI 致力于将 Vue 生态中的工具基础标准化。它确保了各种构建工具能够基于智能的默认配置即可平稳衔接，这样你可以专注在撰写应用上，而不必花好几天去纠结配置的问题。与此同时，它也为每个工具提供了调整配置的灵活性，无需 eject。

我们再来回忆一下《让我们来来前端工程化》讨论了什么:

> 随着浏览器页面的越来越复杂，许多问题变浮现了出来，也许许多事情都是这样，当问题的规模比较小的时候，通常比较容易解决。一旦问题的规模开始增长，问题的解决难度也随着上涨。页面越来越复杂，那就意味着代码量也在上升，早期的页面简单，JavaScript的设计者没有为这门语言准备模块化，虽然语言本身没有自带，JavaScript社区就自发的为JavaScript设计模块，比较为人所熟知的模块化系统是:
>
> - AMD —— 最古老的模块系统之一，最初由require.js库来实现。
> - CommonJS —— 为Node.js服务器创建的模块系统。
> - UMD —— 另外一个模块系统，建议作为通用的模块系统，它与AMD和CommonJS都兼容。
>
> 现在 ，它们都在慢慢成为历史的一部分，但你仍然可以在旧有的项目找到它们，语言级别的模块系统在2015年的时候出现在了标准(ES6)中，此后逐渐发展，现在已经得到了所有主流浏览器和Node.js的支持。 模块化解决了在JavaScript如何复用代码的问题，从一定程度上来说降低了代码量和代码复杂度。但这仅仅解决了一个问题，另一个值得注意的问题是，在使用了npm的情况下，最终的页面该如何交付，开发页面的时候我们还有CSS、SASS、JPG等各种资源，我们该如何组织这些文件，WebPack是这个问题的一个答案，WebPack会分析JavaScript之间的依赖关系，将我们项目的文件进行分类，放到对应的文件夹里。WebPack这是一个打包工具，它提供的能力还有模块捆绑，所谓模块捆绑指的是将页面所需的模块捆绑后才能一个大文件或几个文件以减少请求数量。
>
> 除此之外，还需要面对的问题是适配低版本浏览器的问题(IE浏览器走开)，有些JavaScript语法好用但是低版本的不支持，但能不能我们只写一套，由工具帮我们自动产生低版本浏览器的代码呢？ 这也就是Babel。

为了快速高质量的构建项目，我们引入了一个又一个工具，但是该如何快速的搭建起一个项目的模板呢？ 我们的愿景是这些的通过一些命令行命令就能将webpack、node.js、babel都引入到项目中，并且这些里面已经写了一些默认配置，有一个简单的示例。我只需要写我需要的页面就行了。这也就是Vue CLI。

再读一遍Vue自我介绍的话:

> Vue CLI 致力于将 Vue 生态中的工具基础标准化。它确保了各种构建工具能够基于智能的默认配置即可平稳衔接，这样你可以专注在撰写应用上，而不必花好几天去纠结配置的问题。与此同时，它也为每个工具提供了调整配置的灵活性，无需 eject。

## 开启第一个单文件项目吧

本项目首先需要一个node环境，要求Node的版本在14.18.1以上，虽然Vue 的最新大版本已经到了3.2了，但我们这里的Vue大版本选择还是2.5.2。后面会专门再研究3和2的区别。我们本次借助Vue CLI来构建项目，我们借助VS Code来编写代码，我的VS Code安装的插件有:

- vue-helper: Vue代码提示和组件跳转。

第一步打开VS Code, 点击终端, 在终端中输入命令: 

```javascript
# 这个命令代表的意思是全局安装vue cli
npm install --global @vue/cli
```

![image-20221226162721928](C:\Users\chenxingke\AppData\Roaming\Typora\typora-user-images\image-20221226162721928.png)

然后在终端里面输入:

```vue
# Vue 脚手架就会帮我们创建一个叫my-project的项目
# 在创建过程中会给你一些选择，比如输入项目描述啊之类的
vue init webpack my-project
```



## props







## vue.ref









## 参考资料

- 
